SQL> INSERT INTO DEPT(DEPTNO, DNAME, LOC)
  2  VALUES (50,'DEVELOPMENT', 'DETROIT');
INSERT INTO DEPT(DEPTNO, DNAME, LOC)
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_DEPT)에 위배됩니다 


SQL> 
SQL> SELECT * FROM DEPT;

    DEPTNO DNAME          LOC                                                   
---------- -------------- -------------                                         
        50 DEVELOPMENT    DETROIT                                               
        70 PURCHASING     ATLANTA                                               
        65 MIS                                                                  
        80 FINANCE                                                              
        92 FINANCE        SAN FRANCISCO                                         
        86 FINANCE        SAN FRANCISCO                                         
        10 ACCOUNTING     NEW YORK                                              
        20 RESEARCH       DALLAS                                                
        30 SALES          CHICAGO                                               
        40 OPERATIONS     BOSTON                                                

10 개의 행이 선택되었습니다.

SQL> 
SQL> 
SQL> ROLLBACK;

롤백이 완료되었습니다.

SQL> SELECT * FROM DEPT;

    DEPTNO DNAME          LOC                                                   
---------- -------------- -------------                                         
        50 DEVELOPMENT    DETROIT                                               
        70 PURCHASING     ATLANTA                                               
        65 MIS                                                                  
        80 FINANCE                                                              
        92 FINANCE        SAN FRANCISCO                                         
        86 FINANCE        SAN FRANCISCO                                         
        10 ACCOUNTING     NEW YORK                                              
        20 RESEARCH       DALLAS                                                
        30 SALES          CHICAGO                                               
        40 OPERATIONS     BOSTON                                                

10 개의 행이 선택되었습니다.

SQL> 
SQL> INSERT INTO DEPT(DEPTNO, DNAME, LOC)
  2  VALUES (50,'DEVELOPMENT', 'DETROIT');
INSERT INTO DEPT(DEPTNO, DNAME, LOC)
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_DEPT)에 위배됩니다 


SQL> 
SQL> SELECT * FROM DEPT;

    DEPTNO DNAME          LOC                                                   
---------- -------------- -------------                                         
        50 DEVELOPMENT    DETROIT                                               
        70 PURCHASING     ATLANTA                                               
        65 MIS                                                                  
        80 FINANCE                                                              
        92 FINANCE        SAN FRANCISCO                                         
        86 FINANCE        SAN FRANCISCO                                         
        10 ACCOUNTING     NEW YORK                                              
        20 RESEARCH       DALLAS                                                
        30 SALES          CHICAGO                                               
        40 OPERATIONS     BOSTON                                                

10 개의 행이 선택되었습니다.

SQL> 
SQL> 
SQL> COMMIT;

커밋이 완료되었습니다.

SQL> 
SQL> ROLLBACK;

롤백이 완료되었습니다.

SQL> SELECT * FROM DEPT;

    DEPTNO DNAME          LOC                                                   
---------- -------------- -------------                                         
        50 DEVELOPMENT    DETROIT                                               
        70 PURCHASING     ATLANTA                                               
        65 MIS                                                                  
        80 FINANCE                                                              
        92 FINANCE        SAN FRANCISCO                                         
        86 FINANCE        SAN FRANCISCO                                         
        10 ACCOUNTING     NEW YORK                                              
        20 RESEARCH       DALLAS                                                
        30 SALES          CHICAGO                                               
        40 OPERATIONS     BOSTON                                                

10 개의 행이 선택되었습니다.

SQL> 
SQL> GRANT SELECT ON DEPT TO SCOTT;
GRANT SELECT ON DEPT TO SCOTT
                        *
1행에 오류:
ORA-01749: 자신의 권한으로는 GRANT/REVOKE할 수 없습니다 


SQL> INSERT INTO DEPT
  2  VALUES (70,'PURCHASING', 'ATLANTA');
INSERT INTO DEPT
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_DEPT)에 위배됩니다 


SQL> COMMIT;

커밋이 완료되었습니다.

SQL> 
SQL> INSERT INTO DEPT(DEPTNO, DNAME)
  2  VALUES (65, 'MIS');
INSERT INTO DEPT(DEPTNO, DNAME)
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_DEPT)에 위배됩니다 


SQL> 
SQL> INSERT INTO DEPT
  2  VALUES (80,'FINANCE', NULL);
INSERT INTO DEPT
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_DEPT)에 위배됩니다 


SQL> 
SQL> INSERT INTO DEPT(DEPTNO, DNAME, LOC)
  2  VALUES (&DEPTID, &DEPARTNAME, &LOCATION);
deptid의 값을 입력하십시오: 
departname의 값을 입력하십시오: INSERT INTO DEPT(DEPTNO, DNAME, LOC)
location의 값을 입력하십시오: VALUES (&DEPTID, '&DEPARTNAME', '&LOCATION');
구   2: VALUES (&DEPTID, &DEPARTNAME, &LOCATION)
신   2: VALUES (, INSERT INTO DEPT(DEPTNO, DNAME, LOC), VALUES (&DEPTID, '&DEPARTNAME', '&LOCATION');)
SP2-0552: 바인드 변수 "DEPTID" 가 정의되지 않았습니다.
SQL> 
SQL> CREATE TABLE MANAGER (
  2   ID                 NUMBER(4) PRIMARY KEY,
  3   NAME               VARCHAR2(10),
  4   SALARY             NUMBER(7,2),
  5   HIREDATE           DATE);
CREATE TABLE MANAGER (
             *
1행에 오류:
ORA-00955: 기존의 객체가 이름을 사용하고 있습니다. 


SQL> 
SQL> INSERT INTO MANAGER(ID, NAME, SALARY, HIREDATE)
  2              (SELECT EMPNO, ENAME, SAL, HIREDATE
  3       FROM EMP
  4       WHERE JOB='MANAGER');
INSERT INTO MANAGER(ID, NAME, SALARY, HIREDATE)
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.SYS_C0012320)에 위배됩니다 


SQL> 
SQL> 
SQL> INSERT INTO EMP
  2  VALUES (7196,'GREEN','SALESMAN',7782,SYSDATE,2000,NULL,10);
INSERT INTO EMP
*
1행에 오류:
ORA-00001: 무결성 제약 조건(SCOTT.PK_EMP)에 위배됩니다 


SQL> 
SQL> 
SQL> 
SQL> CREATE SEQUENCE dept_deptno
  2     INCREMENT BY 1
  3     START WITH 91
  4     MAXVALUE 100
  5     NOCYCLE
  6     NOCACHE;
CREATE SEQUENCE dept_deptno
                *
1행에 오류:
ORA-00955: 기존의 객체가 이름을 사용하고 있습니다. 


SQL> 
SQL> SELECT dept_deptno.NEXTVAL FROM DUAL;

   NEXTVAL                                                                      
----------                                                                      
        77                                                                      

SQL> 
SQL> SELECT dept_deptno.CURRVAL FROM DUAL;

   CURRVAL                                                                      
----------                                                                      
        77                                                                      

SQL> 
SQL> INSERT INTO dept(deptno,dname,loc)
  2  VALUES (dept_deptno.NEXTVAL, 'FINANCE', 'SAN FRANCISCO');

1 개의 행이 만들어졌습니다.

SQL> SELECT * FROM DEPT;

    DEPTNO DNAME          LOC                                                   
---------- -------------- -------------                                         
        50 DEVELOPMENT    DETROIT                                               
        70 PURCHASING     ATLANTA                                               
        65 MIS                                                                  
        80 FINANCE                                                              
        92 FINANCE        SAN FRANCISCO                                         
        86 FINANCE        SAN FRANCISCO                                         
        74 FINANCE        SAN FRANCISCO                                         
        10 ACCOUNTING     NEW YORK                                              
        20 RESEARCH       DALLAS                                                
        30 SALES          CHICAGO                                               
        40 OPERATIONS     BOSTON                                                

11 개의 행이 선택되었습니다.

SQL> 
SQL> 
SQL> ALTER SEQUENCE dept_deptno INCREMENT BY -3;

시퀀스가 변경되었습니다.

SQL> SELECT dept_deptno.NEXTVAL FROM DUAL
  2  ALTER SEQUENCE dept_deptno INCREMENT BY 1;
ALTER SEQUENCE dept_deptno INCREMENT BY 1
*
2행에 오류:
ORA-00933: SQL 명령어가 올바르게 종료되지 않았습니다 


SQL> 
SQL> 
SQL> UPDATE EMP
  2  SET DEPTNO =20, SAL =500
  3  WHERE EMPNO = 7782;

1 행이 갱신되었습니다.

SQL> SELECT * FROM EMP;

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7950 LEE_HK     MANAGER         7839 85/10/09       2450       2000       
        10                                                                      
                                                                                
      7196 GREEN      SALESMAN        7782 23/10/11       2000                  
        10                                                                      
                                                                                
      7369 SMITH      CLERK           7902 80/12/17        800                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7499 ALLEN      SALESMAN        7698 81/02/20       1600        300       
        30                                                                      
                                                                                
      7521 WARD       SALESMAN        7698 81/02/22       1250        500       
        30                                                                      
                                                                                
      7566 JONES      MANAGER         7839 81/04/02       2975                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7654 MARTIN     SALESMAN        7698 81/09/28       1250       1400       
        30                                                                      
                                                                                
      7698 BLAKE      MANAGER         7839 81/05/01       2850                  
        30                                                                      
                                                                                
      7782 CLARK      MANAGER         7839 81/06/09        500                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7788 SCOTT      ANALYST         7566 87/04/19       3000                  
        20                                                                      
                                                                                
      7839 KING       PRESIDENT            81/11/17       5000                  
        10                                                                      
                                                                                
      7844 TURNER     SALESMAN        7698 81/09/08       1500          0       
        30                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7876 ADAMS      CLERK           7788 87/05/23       1100                  
        20                                                                      
                                                                                
      7900 JAMES      CLERK           7698 81/12/03        950                  
        30                                                                      
                                                                                
      7902 FORD       ANALYST         7566 81/12/03       3000                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7934 MILLER     CLERK           7782 82/01/23       1300                  
        10                                                                      
                                                                                

16 개의 행이 선택되었습니다.

SQL> 
SQL> UPDATE EMP
  2  SET DEPTNO =60, SAL =500
  3  WHERE EMPNO = 7782;
UPDATE EMP
*
1행에 오류:
ORA-02291: 무결성 제약조건(SCOTT.FK_DEPTNO)이 위배되었습니다- 부모 키가
없습니다 


SQL> 
SQL> UPDATE EMP
  2  SET DEPTNO =20, SAL =500;

16 행이 갱신되었습니다.

SQL> 
SQL> UPDATE EMP
  2  SET (JOB,DEPTNO) = (SELECT JOB,DEPTNO
  3      FROM EMP
  4      WHERE EMPNO =7499)
  5  WHERE EMPNO = 7698;

1 행이 갱신되었습니다.

SQL> 
SQL> ROLLBACK;

롤백이 완료되었습니다.

SQL> 
SQL> 
SQL> DELETE FROM DEPT
  2  WHERE DEPTNO = 50;

1 행이 삭제되었습니다.

SQL> 
SQL> 
SQL> DELETE FROM DEPT
  2  WHERE DEPTNO = 30;
DELETE FROM DEPT
*
1행에 오류:
ORA-02292: 무결성 제약조건(SCOTT.FK_DEPTNO)이 위배되었습니다- 자식 레코드가
발견되었습니다 


SQL> 
SQL> ROLLBACK;

롤백이 완료되었습니다.

SQL> 
SQL> COMMIT;

커밋이 완료되었습니다.

SQL> 
SQL> SAVEPOINT T1;

저장점이 생성되었습니다.

SQL> 
SQL> ROLLBACK TO T1;

롤백이 완료되었습니다.

SQL> 
SQL> UPDATE EMP SET SAL =1 WHERE EMPNO = 7369;

1 행이 갱신되었습니다.

SQL> SAVEPOINT T1;

저장점이 생성되었습니다.

SQL> 
SQL> UPDATE EMP SET SAL =2 WHERE EMPNO = 7369;

1 행이 갱신되었습니다.

SQL> SAVEPOINT T2;

저장점이 생성되었습니다.

SQL> 
SQL> UPDATE EMP SET SAL =3 WHERE EMPNO = 7369;

1 행이 갱신되었습니다.

SQL> SAVEPOINT T3;

저장점이 생성되었습니다.

SQL> 
SQL> UPDATE EMP SET SAL =4 WHERE EMPNO = 7369;

1 행이 갱신되었습니다.

SQL> SAVEPOINT T4;

저장점이 생성되었습니다.

SQL> 
SQL> UPDATE EMP SET SAL =5 WHERE EMPNO = 7369;

1 행이 갱신되었습니다.

SQL> 
SQL> ROLLBACK TO T3;

롤백이 완료되었습니다.

SQL> SELECT * FROM EMP;

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7950 LEE_HK     MANAGER         7839 85/10/09       2450       2000       
        10                                                                      
                                                                                
      7196 GREEN      SALESMAN        7782 23/10/11       2000                  
        10                                                                      
                                                                                
      7369 SMITH      CLERK           7902 80/12/17          3                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7499 ALLEN      SALESMAN        7698 81/02/20       1600        300       
        30                                                                      
                                                                                
      7521 WARD       SALESMAN        7698 81/02/22       1250        500       
        30                                                                      
                                                                                
      7566 JONES      MANAGER         7839 81/04/02       2975                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7654 MARTIN     SALESMAN        7698 81/09/28       1250       1400       
        30                                                                      
                                                                                
      7698 BLAKE      MANAGER         7839 81/05/01       2850                  
        30                                                                      
                                                                                
      7782 CLARK      MANAGER         7839 81/06/09       2450                  
        10                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7788 SCOTT      ANALYST         7566 87/04/19       3000                  
        20                                                                      
                                                                                
      7839 KING       PRESIDENT            81/11/17       5000                  
        10                                                                      
                                                                                
      7844 TURNER     SALESMAN        7698 81/09/08       1500          0       
        30                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7876 ADAMS      CLERK           7788 87/05/23       1100                  
        20                                                                      
                                                                                
      7900 JAMES      CLERK           7698 81/12/03        950                  
        30                                                                      
                                                                                
      7902 FORD       ANALYST         7566 81/12/03       3000                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7934 MILLER     CLERK           7782 82/01/23       1300                  
        10                                                                      
                                                                                

16 개의 행이 선택되었습니다.

SQL> 
SQL> ROLLBACK TO T1;

롤백이 완료되었습니다.

SQL> SELECT * FROM EMP;

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7950 LEE_HK     MANAGER         7839 85/10/09       2450       2000       
        10                                                                      
                                                                                
      7196 GREEN      SALESMAN        7782 23/10/11       2000                  
        10                                                                      
                                                                                
      7369 SMITH      CLERK           7902 80/12/17          1                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7499 ALLEN      SALESMAN        7698 81/02/20       1600        300       
        30                                                                      
                                                                                
      7521 WARD       SALESMAN        7698 81/02/22       1250        500       
        30                                                                      
                                                                                
      7566 JONES      MANAGER         7839 81/04/02       2975                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7654 MARTIN     SALESMAN        7698 81/09/28       1250       1400       
        30                                                                      
                                                                                
      7698 BLAKE      MANAGER         7839 81/05/01       2850                  
        30                                                                      
                                                                                
      7782 CLARK      MANAGER         7839 81/06/09       2450                  
        10                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7788 SCOTT      ANALYST         7566 87/04/19       3000                  
        20                                                                      
                                                                                
      7839 KING       PRESIDENT            81/11/17       5000                  
        10                                                                      
                                                                                
      7844 TURNER     SALESMAN        7698 81/09/08       1500          0       
        30                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7876 ADAMS      CLERK           7788 87/05/23       1100                  
        20                                                                      
                                                                                
      7900 JAMES      CLERK           7698 81/12/03        950                  
        30                                                                      
                                                                                
      7902 FORD       ANALYST         7566 81/12/03       3000                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7934 MILLER     CLERK           7782 82/01/23       1300                  
        10                                                                      
                                                                                

16 개의 행이 선택되었습니다.

SQL> 
SQL> ROLLBACK;

롤백이 완료되었습니다.

SQL> SELECT * FROM EMP;

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7950 LEE_HK     MANAGER         7839 85/10/09       2450       2000       
        10                                                                      
                                                                                
      7196 GREEN      SALESMAN        7782 23/10/11       2000                  
        10                                                                      
                                                                                
      7369 SMITH      CLERK           7902 80/12/17        800                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7499 ALLEN      SALESMAN        7698 81/02/20       1600        300       
        30                                                                      
                                                                                
      7521 WARD       SALESMAN        7698 81/02/22       1250        500       
        30                                                                      
                                                                                
      7566 JONES      MANAGER         7839 81/04/02       2975                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7654 MARTIN     SALESMAN        7698 81/09/28       1250       1400       
        30                                                                      
                                                                                
      7698 BLAKE      MANAGER         7839 81/05/01       2850                  
        30                                                                      
                                                                                
      7782 CLARK      MANAGER         7839 81/06/09       2450                  
        10                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7788 SCOTT      ANALYST         7566 87/04/19       3000                  
        20                                                                      
                                                                                
      7839 KING       PRESIDENT            81/11/17       5000                  
        10                                                                      
                                                                                
      7844 TURNER     SALESMAN        7698 81/09/08       1500          0       
        30                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7876 ADAMS      CLERK           7788 87/05/23       1100                  
        20                                                                      
                                                                                
      7900 JAMES      CLERK           7698 81/12/03        950                  
        30                                                                      
                                                                                
      7902 FORD       ANALYST         7566 81/12/03       3000                  
        20                                                                      
                                                                                

     EMPNO ENAME      JOB              MGR HIREDATE        SAL       COMM       
---------- ---------- --------- ---------- -------- ---------- ----------       
    DEPTNO                                                                      
----------                                                                      
      7934 MILLER     CLERK           7782 82/01/23       1300                  
        10                                                                      
                                                                                

16 개의 행이 선택되었습니다.

SQL> 
SQL> -----연습문제
SQL> -----1번 문제
SQL> INSERT INTO emp_summary(EMPNO, ENAME, JOB, INCOME, DNAME)
  2  SELECT emp.empno, emp.ename , emp.job, COALESCE(emp.sal * 12 + emp.comm, 0) AS INCOME, dept.dname AS DNAME
  3  FROM dept
  4  JOIN emp on emp.deptno = dept.deptno;

16 개의 행이 만들어졌습니다.

SQL> select * from emp_summary;

     EMPNO ENAME      JOB           INCOME DNAME                                
---------- ---------- --------- ---------- --------------                       
      7782 CLARK      MANAGER            0 ACCOUNTING                           
      7196 GREEN      SALESMAN           0 ACCOUNTING                           
      7950 LEE_HK     MANAGER        31400 ACCOUNTING                           
      7934 MILLER     CLERK              0 ACCOUNTING                           
      7839 KING       PRESIDENT          0 ACCOUNTING                           
      7566 JONES      MANAGER            0 RESEARCH                             
      7369 SMITH      CLERK              0 RESEARCH                             
      7902 FORD       ANALYST            0 RESEARCH                             
      7876 ADAMS      CLERK              0 RESEARCH                             
      7788 SCOTT      ANALYST            0 RESEARCH                             
      7521 WARD       SALESMAN       15500 SALES                                

     EMPNO ENAME      JOB           INCOME DNAME                                
---------- ---------- --------- ---------- --------------                       
      7844 TURNER     SALESMAN       18000 SALES                                
      7499 ALLEN      SALESMAN       19500 SALES                                
      7900 JAMES      CLERK              0 SALES                                
      7654 MARTIN     SALESMAN       16400 SALES                                
      7698 BLAKE      MANAGER            0 SALES                                

16 개의 행이 선택되었습니다.

SQL> -----2번 문제
SQL> commit;

커밋이 완료되었습니다.

SQL> UPDATE emp_summary
  2  SET INCOME = (SELECT INCOME FROM emp_summary WHERE ename = 'ALLEN')
  3  WHERE ename = 'SMITH';

1 행이 갱신되었습니다.

SQL> select * from emp_summary
  2  ;

     EMPNO ENAME      JOB           INCOME DNAME                                
---------- ---------- --------- ---------- --------------                       
      7782 CLARK      MANAGER            0 ACCOUNTING                           
      7196 GREEN      SALESMAN           0 ACCOUNTING                           
      7950 LEE_HK     MANAGER        31400 ACCOUNTING                           
      7934 MILLER     CLERK              0 ACCOUNTING                           
      7839 KING       PRESIDENT          0 ACCOUNTING                           
      7566 JONES      MANAGER            0 RESEARCH                             
      7369 SMITH      CLERK          19500 RESEARCH                             
      7902 FORD       ANALYST            0 RESEARCH                             
      7876 ADAMS      CLERK              0 RESEARCH                             
      7788 SCOTT      ANALYST            0 RESEARCH                             
      7521 WARD       SALESMAN       15500 SALES                                

     EMPNO ENAME      JOB           INCOME DNAME                                
---------- ---------- --------- ---------- --------------                       
      7844 TURNER     SALESMAN       18000 SALES                                
      7499 ALLEN      SALESMAN       19500 SALES                                
      7900 JAMES      CLERK              0 SALES                                
      7654 MARTIN     SALESMAN       16400 SALES                                
      7698 BLAKE      MANAGER            0 SALES                                

16 개의 행이 선택되었습니다.

SQL> 
SQL> -----3번 문제
SQL> DELETE FROM emp_summary
  2  WHERE empno IN (SELECT emp.empno FROM emp WHERE emp.sal > 2000)
  3  ;

7 행이 삭제되었습니다.

SQL> select * from emp_summary;

     EMPNO ENAME      JOB           INCOME DNAME                                
---------- ---------- --------- ---------- --------------                       
      7196 GREEN      SALESMAN           0 ACCOUNTING                           
      7934 MILLER     CLERK              0 ACCOUNTING                           
      7369 SMITH      CLERK              0 RESEARCH                             
      7876 ADAMS      CLERK              0 RESEARCH                             
      7521 WARD       SALESMAN       15500 SALES                                
      7844 TURNER     SALESMAN       18000 SALES                                
      7499 ALLEN      SALESMAN       19500 SALES                                
      7900 JAMES      CLERK              0 SALES                                
      7654 MARTIN     SALESMAN       16400 SALES                                

9 개의 행이 선택되었습니다.

SQL> -----4번 문제

SQL> CREATE TABLE 주문
  2      (주문번호 CHAR(12));

테이블이 생성되었습니다.

SQL> SELECT * FROM 주문;

선택된 레코드가 없습니다.

SQL> CREATE SEQUENCE create_jumun
  2  INCREMENT BY 1
  3  START WITH 20201014000
  4  NOCYCLE
  5  NOCACHE;

시퀀스가 생성되었습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> select * from 주문;

주문번호                                                                        
------------                                                                    
20201014000                                                                     
20201014001                                                                     
20201014002                                                                     
20201014003                                                                     
20201014004                                                                     
20201014005                                                                     
20201014006                                                                     
20201014007                                                                     
20201014008                                                                     
20201014009                                                                     

10 개의 행이 선택되었습니다.

SQL> INSERT INTO 주문 (주문번호) VALUES (TO_CHAR(create_jumun.NEXTVAL));

1 개의 행이 만들어졌습니다.

SQL> select * from 주문;

주문번호                                                                        
------------                                                                    
20201014000                                                                     
20201014001                                                                     
20201014002                                                                     
20201014003                                                                     
20201014004                                                                     
20201014005                                                                     
20201014006                                                                     
20201014007                                                                     
20201014008                                                                     
20201014009                                                                     
20201014010                                                                     

11 개의 행이 선택되었습니다.

SQL> spool off

